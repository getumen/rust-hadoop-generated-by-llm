# Default values for rust-hadoop.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

image:
  repository: rust-hadoop
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "latest"

# Enable multi-Raft sharding architecture
sharding:
  enabled: true

# Config Server (Meta-Shard) - Manages ShardMap
configserver:
  replicaCount: 1
  port: 50050
  httpPort: 8080
  storage:
    size: 1Gi
    mountPath: /data
    # StorageClass for persistent volumes (leave empty for default)
    # For Rancher Desktop, use "local-path" (default provisioner)
    storageClassName: ""
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# Metaserver Shard-1 (Range: "" to "/m")
metaserver:
  replicaCount: 1
  port: 50051
  httpPort: 8080
  shardId: "shard-1"
  storage:
    size: 1Gi
    mountPath: /data
    # StorageClass for persistent volumes (leave empty for default)
    # For Rancher Desktop, use "local-path" (default provisioner)
    storageClassName: ""
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# Metaserver Shard-2 (Range: "/m" to "")
metaserverShard2:
  replicaCount: 1
  port: 50061
  httpPort: 8090
  shardId: "shard-2"
  storage:
    size: 1Gi
    mountPath: /data
    # StorageClass for persistent volumes (leave empty for default)
    # For Rancher Desktop, use "local-path" (default provisioner)
    storageClassName: ""
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# ChunkServers - Data storage nodes
chunkserver:
  replicaCount: 1
  port: 50053
  httpPort: 8080
  storage:
    size: 2Gi
    mountPath: /data
    # StorageClass for persistent volumes (leave empty for default)
    # For Rancher Desktop, use "local-path" (default provisioner)
    storageClassName: ""
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# S3 Server - S3-compatible API frontend
s3server:
  replicaCount: 1
  port: 9000
  httpPort: 9001
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

# Observability
monitoring:
  enabled: true
  # Release name of the Prometheus Operator
  prometheusRelease: prometheus
  # Namespace where Prometheus is running
  namespace: monitoring
  # Interval for scraping metrics
  interval: 30s
